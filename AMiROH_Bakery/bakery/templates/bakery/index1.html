<!doctype html>
<html lang="en">
 <head>
    <!-- 1. Characer Encoding -->
    <meta charset="UTF-8">
    <!-- 2. Description -->
    <meta name="description" content="Artisan Bakery ‚Äì Freshly baked bread, pastries, and cakes made daily with love.">
    <!-- 3. Keywords -->
    <meta name="keywords" content="Bakery, Pastries, Cakes, Bread, Coffee, Online Ordering, Artisan">
    <!-- 4. Author -->
    <meta name="author" content="Artisan Bakery Team">
    <!-- 5. Responsive Viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>AMiROH Bakery - Fresh Baked Daily</title>
    <script src="/_sdk/data_sdk.js"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-inter { font-family: 'Inter', sans-serif; }
        
        /* Custom Colors */
        .bg-bakery-cream { background-color: #FEF7ED; }
        .bg-bakery-brown { background-color: #92400E; }
        .bg-bakery-gold { background-color: #F59E0B; }
        .bg-bakery-light { background-color: #FEF3C7; }
        .text-bakery-brown { color: #92400E; }
        .text-bakery-gold { color: #F59E0B; }
        .border-bakery-brown { border-color: #92400E; }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        /* Custom Shadows */
        .shadow-bakery {
            box-shadow: 0 10px 25px rgba(146, 64, 14, 0.1);
        }
        
        /* Page Transitions */
        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .page.active {
            display: block;
            opacity: 1;
        }
        
        /* Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, #92400E 0%, #B45309 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(146, 64, 14, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }
        
        /* Product Cards */
        .product-card {
            transition: all 0.3s ease;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(146, 64, 14, 0.15);
        }
        
        /* Navigation */
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #92400E;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            background-color: #92400E;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
            left: 0;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal.show {
            display: flex;
            opacity: 1;
        }
        
        .modal-content {
            transform: scale(0.7);
            transition: transform 0.3s ease;
        }
        
        .modal.show .modal-content {
            transform: scale(1);
        }
        
        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .toast.show {
            transform: translateX(0);
        }
        
        /* Star Rating */
        .star-rating {
            color: #F59E0B;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .star-rating:hover {
            color: #FBBF24;
        }
        
        /* Cart Badge */
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #EF4444;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        /* Promotional Banner */
        .promo-banner {
            background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #92400E;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: 20px;
                width: calc(100% - 40px);
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="bg-bakery-cream font-inter"><!-- Toast Notification -->
  <div id="toast" class="toast bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
   <div class="flex items-center space-x-2"><span id="toast-icon">‚úì</span> <span id="toast-message">Success!</span>
   </div>
  </div><!-- Promotional Banner -->
  <div id="promo-banner" class="promo-banner text-white py-3 px-4 text-center relative">
   <p class="font-medium" id="promo-text">üéâ Grand Opening Special: 20% off all cakes this week!</p><button onclick="closePromoBanner()" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-200">
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg></button>
  </div><!-- Navigation -->
  <nav class="bg-white shadow-lg sticky top-0 z-50">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16"><!-- Logo -->
     <div class="flex items-center">
      <div class="flex-shrink-0">
    <h1 class="text-2xl font-playfair font-bold text-bakery-brown" id="nav-bakery-name">AMiROH Bakery</h1>
      </div>
     </div><!-- Desktop Navigation -->
     <div class="hidden md:block">
      <div class="ml-10 flex items-baseline space-x-8"><a href="#" class="nav-link text-gray-700 hover:text-bakery-brown font-medium" onclick="showPage('home')">Home</a> <a href="#" class="nav-link text-gray-700 hover:text-bakery-brown font-medium" onclick="showPage('menu')">Menu</a> <a href="#" class="nav-link text-gray-700 hover:text-bakery-brown font-medium relative" onclick="showPage('cart')"> Cart <span id="cart-badge" class="cart-badge hidden">0</span> </a> <a href="#" class="nav-link text-gray-700 hover:text-bakery-brown font-medium" onclick="showPage('reviews')">Reviews</a> <a href="#" class="nav-link text-gray-700 hover:text-bakery-brown font-medium" onclick="showPage('about')">About</a>
      </div>
     </div><!-- User Actions -->
     <div class="hidden md:flex items-center space-x-4">
      <div id="user-menu" class="hidden"><span class="text-bakery-brown font-medium" id="user-name">Welcome!</span> <button onclick="showPage('account')" class="text-bakery-brown hover:text-bakery-gold ml-2">Account</button> <button onclick="logout()" class="text-gray-600 hover:text-bakery-brown ml-2">Logout</button>
      </div>
      <div id="auth-buttons"><button onclick="showModal('login')" class="text-bakery-brown hover:text-bakery-gold font-medium">Login</button> <button onclick="showModal('register')" class="btn-primary text-white px-4 py-2 rounded-lg ml-2">Sign Up</button>
      </div>
     </div><!-- Mobile menu button -->
     <div class="md:hidden"><button id="mobile-menu-btn" class="text-gray-700 hover:text-bakery-brown">
       <svg class="h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
       </svg></button>
     </div>
    </div>
   </div><!-- Mobile Navigation -->
   <div id="mobile-menu" class="md:hidden hidden bg-white border-t">
    <div class="px-2 pt-2 pb-3 space-y-1"><a href="#" class="block px-3 py-2 text-gray-700 hover:text-bakery-brown" onclick="showPage('home')">Home</a> <a href="#" class="block px-3 py-2 text-gray-700 hover:text-bakery-brown" onclick="showPage('menu')">Menu</a> <a href="#" class="block px-3 py-2 text-gray-700 hover:text-bakery-brown" onclick="showPage('cart')">Cart (<span id="mobile-cart-count">0</span>)</a> <a href="#" class="block px-3 py-2 text-gray-700 hover:text-bakery-brown" onclick="showPage('reviews')">Reviews</a> <a href="#" class="block px-3 py-2 text-gray-700 hover:text-bakery-brown" onclick="showPage('about')">About</a>
     <div id="mobile-auth" class="pt-2 border-t"><button onclick="showModal('login')" class="block w-full text-left px-3 py-2 text-bakery-brown">Login</button> <button onclick="showModal('register')" class="block w-full text-left px-3 py-2 text-bakery-brown">Sign Up</button>
     </div>
    </div>
   </div>
  </nav><!-- Home Page -->
  <div id="home" class="page active"><!-- Hero Section -->
   <section class="relative bg-gradient-to-br from-bakery-cream to-bakery-light py-20 overflow-hidden">
    <div class="absolute inset-0 bg-white bg-opacity-50"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center">
      <h1 class="hero-title text-5xl md:text-7xl font-playfair font-bold text-bakery-brown mb-6 fade-in" id="hero-title">Freshly Baked Every Day</h1>
      <p class="text-xl md:text-2xl text-gray-700 mb-8 max-w-3xl mx-auto fade-in" id="hero-subtitle">Handcrafted breads, pastries &amp; cakes made with love using traditional recipes and the finest ingredients</p><button onclick="showPage('menu')" class="btn-primary text-white px-8 py-4 rounded-full text-lg font-semibold inline-flex items-center space-x-3 fade-in"> <!-- Order Now SVG Icon -->
       <svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V17C17 18.1 16.1 19 15 19H9C7.9 19 7 18.1 7 17V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
       </svg><span>Order Now</span> </button>
     </div>
    </div>
   </section><!-- Featured Products -->
   <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-playfair font-bold text-bakery-brown mb-4">Featured Delights</h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">Discover our most popular handcrafted treats, baked fresh daily with premium ingredients</p>
     </div>
     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="product-card bg-white rounded-2xl shadow-bakery overflow-hidden">
       <div class="h-64 bg-gradient-to-br from-yellow-100 to-orange-100 flex items-center justify-center"><span class="text-8xl">üç∞</span>
       </div>
       <div class="p-6">
        <h3 class="text-2xl font-playfair font-semibold text-bakery-brown mb-2">Signature Chocolate Cake</h3>
        <p class="text-gray-600 mb-4">Rich, moist chocolate layers with premium Belgian chocolate ganache and fresh berries</p>
        <div class="flex justify-between items-center"><span class="text-3xl font-bold text-bakery-brown">$32.99</span> <button onclick="addToCart('Signature Chocolate Cake', 32.99, 'üç∞')" class="btn-secondary text-white px-6 py-2 rounded-lg font-medium">Add to Cart</button>
        </div>
       </div>
      </div>
      <div class="product-card bg-white rounded-2xl shadow-bakery overflow-hidden">
       <div class="h-64 bg-gradient-to-br from-pink-100 to-red-100 flex items-center justify-center"><span class="text-8xl">ü•ê</span>
       </div>
       <div class="p-6">
    <h3 class="text-2xl font-playfair font-semibold text-bakery-brown mb-2">AMiROH Croissants</h3>
    <p class="text-gray-600 mb-4">Buttery, flaky pastries made with French technique and European butter</p>
    <div class="flex justify-between items-center"><span class="text-3xl font-bold text-bakery-brown">$4.50</span> <button onclick="addToCart('AMiROH Croissants', 4.50, 'ü•ê')" class="btn-secondary text-white px-6 py-2 rounded-lg font-medium">Add to Cart</button>
        </div>
       </div>
      </div>
      <div class="product-card bg-white rounded-2xl shadow-bakery overflow-hidden">
       <div class="h-64 bg-gradient-to-br from-amber-100 to-yellow-100 flex items-center justify-center"><span class="text-8xl">üçû</span>
       </div>
       <div class="p-6">
        <h3 class="text-2xl font-playfair font-semibold text-bakery-brown mb-2">Sourdough Bread</h3>
        <p class="text-gray-600 mb-4">Traditional sourdough with perfect crust and tangy flavor, fermented for 24 hours</p>
        <div class="flex justify-between items-center"><span class="text-3xl font-bold text-bakery-brown">$7.99</span> <button onclick="addToCart('Sourdough Bread', 7.99, 'üçû')" class="btn-secondary text-white px-6 py-2 rounded-lg font-medium">Add to Cart</button>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Promotional Section -->
   <section class="py-20 bg-bakery-light">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="bg-white rounded-3xl shadow-bakery p-8 md:p-12 text-center">
      <h2 class="text-4xl font-playfair font-bold text-bakery-brown mb-6">This Week's Special</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
       <div>
        <h3 class="text-2xl font-semibold text-bakery-brown mb-4">Weekend Breakfast Bundle</h3>
    <p class="text-gray-600 mb-6">Start your weekend right with our special bundle: 6 fresh croissants, AMiROH jam, and premium coffee beans</p>
        <div class="flex items-center justify-center space-x-4 mb-6"><span class="text-4xl font-bold text-bakery-brown">$24.99</span> <span class="text-2xl text-gray-500 line-through">$32.99</span> <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold">25% OFF</span>
        </div><button onclick="addToCart('Weekend Breakfast Bundle', 24.99, 'ü•ê')" class="btn-primary text-white px-8 py-3 rounded-lg font-semibold">Order Bundle</button>
       </div>
       <div class="text-8xl">
        ü•ê‚òïüçØ
       </div>
      </div>
     </div>
    </div>
   </section><!-- Bakery Story -->
   <section class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
     <h2 class="text-4xl font-playfair font-bold text-bakery-brown mb-8">Our Story</h2>
     <div class="prose prose-lg mx-auto text-gray-600">
    <p class="text-xl leading-relaxed mb-6">Founded in 1985 by master baker Elena Rodriguez, AMiROH Bakery began as a small neighborhood shop with a simple mission: to bring the authentic taste of European baking to our community.</p>
      <p class="text-xl leading-relaxed mb-6">Today, three generations later, we continue to honor Elena's legacy by using traditional techniques, premium ingredients, and time-tested recipes passed down through our family. Every loaf, pastry, and cake is crafted with the same passion and attention to detail that made us a beloved local institution.</p>
      <p class="text-xl leading-relaxed">From our ovens to your table, we're committed to creating moments of joy through the simple pleasure of exceptional baked goods.</p>
     </div>
    </div>
   </section><!-- Newsletter Signup -->
   <section class="py-20 bg-bakery-brown text-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
     <h2 class="text-4xl font-playfair font-bold mb-4">Stay in the Loop</h2>
     <p class="text-xl mb-8 opacity-90">Get weekly specials, new menu items, and exclusive baking tips delivered to your inbox</p>
     <form id="newsletter-form" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto"><input type="email" id="newsletter-email" placeholder="Enter your email address" class="flex-1 px-6 py-4 rounded-lg text-gray-800 text-lg" required> <button type="submit" class="btn-secondary text-white px-8 py-4 rounded-lg font-semibold text-lg">Subscribe</button>
     </form>
    </div>
   </section>
  </div><!-- Menu Page -->
  <div id="menu" class="page">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
     <h1 class="text-5xl font-playfair font-bold text-bakery-brown mb-4">Our Menu</h1>
     <p class="text-xl text-gray-600">Discover our complete selection of handcrafted baked goods</p>
    </div><!-- Category Filters -->
    <div class="flex flex-wrap justify-center gap-4 mb-12"><button onclick="filterMenu('all')" class="filter-btn active bg-bakery-brown text-white px-6 py-3 rounded-full font-medium transition-all">All Items</button> <button onclick="filterMenu('cakes')" class="filter-btn bg-white text-bakery-brown border-2 border-bakery-brown px-6 py-3 rounded-full font-medium transition-all hover:bg-bakery-brown hover:text-white">Cakes</button> <button onclick="filterMenu('pastries')" class="filter-btn bg-white text-bakery-brown border-2 border-bakery-brown px-6 py-3 rounded-full font-medium transition-all hover:bg-bakery-brown hover:text-white">Pastries</button> <button onclick="filterMenu('bread')" class="filter-btn bg-white text-bakery-brown border-2 border-bakery-brown px-6 py-3 rounded-full font-medium transition-all hover:bg-bakery-brown hover:text-white">Bread</button> <button onclick="filterMenu('drinks')" class="filter-btn bg-white text-bakery-brown border-2 border-bakery-brown px-6 py-3 rounded-full font-medium transition-all hover:bg-bakery-brown hover:text-white">Drinks</button>
    </div><!-- Menu Grid -->
    <div id="menu-grid" class="product-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"><!-- Menu items will be populated by JavaScript -->
    </div>
   </div>
  </div><!-- Cart Page -->
  <div id="cart" class="page">
   <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <h1 class="text-5xl font-playfair font-bold text-center text-bakery-brown mb-12">Your Order</h1>
    <div id="cart-items" class="space-y-6 mb-8"><!-- Cart items will be populated by JavaScript -->
    </div>
    <div id="empty-cart" class="text-center py-20 hidden">
     <div class="text-8xl mb-6">
      üõí
     </div>
     <h2 class="text-3xl font-playfair text-gray-600 mb-4">Your cart is empty</h2>
     <p class="text-xl text-gray-500 mb-8">Discover our delicious baked goods and start your order</p><button onclick="showPage('menu')" class="btn-primary text-white px-8 py-4 rounded-lg text-lg font-semibold">Browse Menu</button>
    </div>
    <div id="checkout-section" class="bg-white rounded-2xl shadow-bakery p-8">
     <div class="flex justify-between items-center text-2xl font-bold text-bakery-brown mb-8 pb-4 border-b"><span>Total: $<span id="cart-total">0.00</span></span>
     </div>
     <form id="checkout-form" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
       <div><label for="customer-name" class="block text-sm font-semibold text-gray-700 mb-2">Full Name</label> <input type="text" id="customer-name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
       </div>
       <div><label for="customer-phone" class="block text-sm font-semibold text-gray-700 mb-2">Phone Number</label> <input type="tel" id="customer-phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
       </div>
      </div>
      <div><label for="customer-email" class="block text-sm font-semibold text-gray-700 mb-2">Email Address</label> <input type="email" id="customer-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
      </div>
      <div><label class="block text-sm font-semibold text-gray-700 mb-3">Order Type</label>
       <div class="flex space-x-6"><label class="flex items-center cursor-pointer"> <input type="radio" name="delivery-type" value="pickup" class="mr-3 text-bakery-brown" checked> <span class="text-lg">Store Pickup</span> </label> <label class="flex items-center cursor-pointer"> <input type="radio" name="delivery-type" value="delivery" class="mr-3 text-bakery-brown"> <span class="text-lg">Home Delivery</span> </label>
       </div>
      </div>
      <div id="delivery-address-section" class="hidden"><label for="delivery-address" class="block text-sm font-semibold text-gray-700 mb-2">Delivery Address</label> <textarea id="delivery-address" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" placeholder="Enter your complete delivery address"></textarea>
      </div><button type="submit" class="w-full btn-primary text-white py-4 rounded-lg text-xl font-semibold"> <span id="checkout-btn-text">Place Order</span>
       <div id="checkout-spinner" class="spinner mx-auto hidden"></div></button>
     </form>
    </div>
   </div>
  </div><!-- Reviews Page -->
  <div id="reviews" class="page">
   <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
     <h1 class="text-5xl font-playfair font-bold text-bakery-brown mb-4">Customer Reviews</h1>
     <p class="text-xl text-gray-600">See what our customers are saying about their experience</p>
    </div><!-- Write Review Form -->
    <div class="bg-white rounded-2xl shadow-bakery p-8 mb-12">
     <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6">Share Your Experience</h2>
     <form id="review-form" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
       <div><label for="review-name" class="block text-sm font-semibold text-gray-700 mb-2">Your Name</label> <input type="text" id="review-name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
       </div>
       <div><label for="review-email" class="block text-sm font-semibold text-gray-700 mb-2">Email (optional)</label> <input type="email" id="review-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg">
       </div>
      </div>
      <div><label class="block text-sm font-semibold text-gray-700 mb-3">Rating</label>
       <div class="flex space-x-2" id="star-rating"><button type="button" class="star text-4xl text-gray-300 hover:text-bakery-gold transition-colors" data-rating="1">‚òÖ</button> <button type="button" class="star text-4xl text-gray-300 hover:text-bakery-gold transition-colors" data-rating="2">‚òÖ</button> <button type="button" class="star text-4xl text-gray-300 hover:text-bakery-gold transition-colors" data-rating="3">‚òÖ</button> <button type="button" class="star text-4xl text-gray-300 hover:text-bakery-gold transition-colors" data-rating="4">‚òÖ</button> <button type="button" class="star text-4xl text-gray-300 hover:text-bakery-gold transition-colors" data-rating="5">‚òÖ</button>
       </div><input type="hidden" id="rating-value" value="0">
      </div>
      <div><label for="review-comment" class="block text-sm font-semibold text-gray-700 mb-2">Your Review</label> <textarea id="review-comment" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" placeholder="Tell us about your experience with our bakery..." required></textarea>
      </div><button type="submit" class="btn-primary text-white px-8 py-3 rounded-lg font-semibold text-lg"> <span id="review-btn-text">Submit Review</span>
       <div id="review-spinner" class="spinner mx-auto hidden"></div></button>
     </form>
    </div><!-- Reviews Display -->
    <div id="reviews-container" class="grid grid-cols-1 md:grid-cols-2 gap-8"><!-- Reviews will be populated by JavaScript -->
    </div>
   </div>
  </div><!-- About & Contact Page -->
  <div id="about" class="page">
   <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
     <h1 class="text-5xl font-playfair font-bold text-bakery-brown mb-4">About Us &amp; Contact</h1>
     <p class="text-xl text-gray-600">Learn more about our bakery and get in touch</p>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12"><!-- About Section -->
     <div class="space-y-8">
      <div class="bg-white rounded-2xl shadow-bakery p-8">
       <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6 flex items-center"><span class="text-4xl mr-3">üìç</span> Visit Our Bakery</h2>
       <div class="space-y-4 text-lg text-gray-600">
    <p id="bakery-address">123 Baker Street, AMiROH City, AC 12345</p>
        <p id="bakery-phone">Phone: (555) 123-BAKE</p>
    <p id="bakery-email">Email: hello@AMiROHbakery.com</p>
       </div>
      </div>
      <div class="bg-white rounded-2xl shadow-bakery p-8">
       <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6 flex items-center"><span class="text-4xl mr-3">üïí</span> Opening Hours</h2>
       <div class="space-y-3 text-lg">
        <div class="flex justify-between items-center py-2 border-b border-gray-100"><span class="font-medium text-gray-700">Monday - Friday</span> <span class="text-bakery-brown font-semibold">6:00 AM - 8:00 PM</span>
        </div>
        <div class="flex justify-between items-center py-2 border-b border-gray-100"><span class="font-medium text-gray-700">Saturday</span> <span class="text-bakery-brown font-semibold">7:00 AM - 9:00 PM</span>
        </div>
        <div class="flex justify-between items-center py-2"><span class="font-medium text-gray-700">Sunday</span> <span class="text-bakery-brown font-semibold">8:00 AM - 7:00 PM</span>
        </div>
       </div>
      </div>
      <div class="bg-white rounded-2xl shadow-bakery p-8">
       <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6 flex items-center"><span class="text-4xl mr-3">üì±</span> Follow Us</h2>
       <div class="flex space-x-6"><a href="#" class="text-4xl hover:scale-110 transition-transform">üìò</a> <a href="#" class="text-4xl hover:scale-110 transition-transform">üì∑</a> <a href="#" class="text-4xl hover:scale-110 transition-transform">üê¶</a> <a href="#" class="text-4xl hover:scale-110 transition-transform">üì∫</a>
       </div>
      </div>
     </div><!-- Contact Form -->
     <div class="bg-white rounded-2xl shadow-bakery p-8">
      <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6">Get in Touch</h2>
      <form id="contact-form" class="space-y-6">
       <div><label for="contact-name" class="block text-sm font-semibold text-gray-700 mb-2">Name</label> <input type="text" id="contact-name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
       </div>
       <div><label for="contact-email" class="block text-sm font-semibold text-gray-700 mb-2">Email</label> <input type="email" id="contact-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" required>
       </div>
       <div><label for="contact-message" class="block text-sm font-semibold text-gray-700 mb-2">Message</label> <textarea id="contact-message" rows="6" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent text-lg" placeholder="How can we help you?" required></textarea>
       </div><button type="submit" class="w-full btn-primary text-white py-4 rounded-lg font-semibold text-lg"> <span id="contact-btn-text">Send Message</span>
        <div id="contact-spinner" class="spinner mx-auto hidden"></div></button>
      </form>
     </div>
    </div><!-- Map Section -->
    <div class="mt-12 bg-white rounded-2xl shadow-bakery p-8">
     <h2 class="text-3xl font-playfair font-semibold text-bakery-brown mb-6 text-center">Find Us</h2>
     <div class="bg-gradient-to-br from-bakery-light to-bakery-cream h-80 rounded-xl flex items-center justify-center">
      <div class="text-center text-bakery-brown">
       <div class="text-6xl mb-4">
        üó∫Ô∏è
       </div>
       <h3 class="text-2xl font-semibold mb-2">Interactive Map</h3>
       <p class="text-lg opacity-80">Google Maps integration would be embedded here</p>
    <p class="text-sm mt-2 opacity-60">123 Baker Street, AMiROH City, AC 12345</p>
      </div>
     </div>
    </div>
   </div>
  </div><!-- User Account Page -->
  <div id="account" class="page">
   <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
     <h1 class="text-5xl font-playfair font-bold text-bakery-brown mb-4">My Account</h1>
     <p class="text-xl text-gray-600">Manage your profile and view order history</p>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Profile Info -->
     <div class="bg-white rounded-2xl shadow-bakery p-8">
      <h2 class="text-2xl font-playfair font-semibold text-bakery-brown mb-6">Profile Information</h2>
      <div id="profile-info" class="space-y-4"><!-- Profile info will be populated by JavaScript -->
      </div>
     </div><!-- Order History -->
     <div class="bg-white rounded-2xl shadow-bakery p-8">
      <h2 class="text-2xl font-playfair font-semibold text-bakery-brown mb-6">Order History</h2>
      <div id="order-history" class="space-y-4"><!-- Order history will be populated by JavaScript -->
      </div>
     </div>
    </div>
   </div>
  </div><!-- Login Modal -->
  <div id="login-modal" class="modal">
   <div class="modal-content bg-white rounded-2xl shadow-bakery p-8 m-auto max-w-md w-full">
    <div class="flex justify-between items-center mb-6">
     <h2 class="text-2xl font-playfair font-semibold text-bakery-brown">Welcome Back</h2><button onclick="hideModal('login')" class="text-gray-400 hover:text-gray-600">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg></button>
    </div>
    <form id="login-form" class="space-y-4">
     <div><label for="login-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label> <input type="email" id="login-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent" required>
     </div>
     <div><label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input type="password" id="login-password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent" required>
     </div><button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold">Sign In</button>
    </form>
    <p class="text-center text-gray-600 mt-4">Don't have an account? <button onclick="switchModal('login', 'register')" class="text-bakery-brown hover:text-bakery-gold font-medium">Sign up</button></p>
   </div>
  </div><!-- Register Modal -->
  <div id="register-modal" class="modal">
   <div class="modal-content bg-white rounded-2xl shadow-bakery p-8 m-auto max-w-md w-full">
    <div class="flex justify-between items-center mb-6">
     <h2 class="text-2xl font-playfair font-semibold text-bakery-brown">Create Account</h2><button onclick="hideModal('register')" class="text-gray-400 hover:text-gray-600">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg></button>
    </div>
    <form id="register-form" class="space-y-4">
     <div><label for="register-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label> <input type="text" id="register-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent" required>
     </div>
     <div><label for="register-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label> <input type="email" id="register-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent" required>
     </div>
     <div><label for="register-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input type="password" id="register-password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bakery-brown focus:border-transparent" required>
     </div><button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold">Create Account</button>
    </form>
    <p class="text-center text-gray-600 mt-4">Already have an account? <button onclick="switchModal('register', 'login')" class="text-bakery-brown hover:text-bakery-gold font-medium">Sign in</button></p>
   </div>
  </div>
  <script>
        // Global variables
        let cart = [];
        let currentUser = null;
        let currentRating = 0;
        let reviews = [];
        let users = [];
        let orders = [];
        let menuItems = [];
        let currentFilter = 'all';

        // Configuration object for Element SDK
        const defaultConfig = {
            bakery_name: "AMiROH Bakery",
            hero_title: "Freshly Baked Every Day",
            hero_subtitle: "Handcrafted breads, pastries & cakes made with love using traditional recipes and the finest ingredients",
            promo_text: "üéâ Grand Opening Special: 20% off all cakes this week!",
            bakery_address: "123 Baker Street, AMiROH City, AC 12345",
            bakery_phone: "(555) 123-BAKE",
            bakery_email: "hello@AMiROHbakery.com",
            primary_color: "#92400E",
            secondary_color: "#F59E0B",
            background_color: "#FEF7ED",
            accent_color: "#FBBF24",
            text_color: "#374151",
            font_family: "Inter",
            font_size: 16
        };

        // Menu items data
        const menuData = [
            // Cakes
            { id: 1, name: "Signature Chocolate Cake", price: 32.99, category: "cakes", emoji: "üç∞", description: "Rich, moist chocolate layers with premium Belgian chocolate ganache and fresh berries" },
            { id: 2, name: "Red Velvet Delight", price: 29.99, category: "cakes", emoji: "‚ù§Ô∏è", description: "Classic red velvet with cream cheese frosting and delicate vanilla notes" },
            { id: 3, name: "Lemon Blueberry Cake", price: 27.99, category: "cakes", emoji: "üçã", description: "Zesty lemon cake with fresh blueberries and lemon cream frosting" },
            { id: 4, name: "Carrot Spice Cake", price: 28.99, category: "cakes", emoji: "ü•ï", description: "Moist carrot cake with warm spices, walnuts, and cream cheese frosting" },
            
            // Pastries
            { id: 5, name: "AMiROH Croissants", price: 4.50, category: "pastries", emoji: "ü•ê", description: "Buttery, flaky pastries made with French technique and European butter" },
            { id: 6, name: "Pain au Chocolat", price: 5.25, category: "pastries", emoji: "üç´", description: "Buttery croissant dough filled with premium dark chocolate" },
            { id: 7, name: "Apple Cinnamon Danish", price: 5.75, category: "pastries", emoji: "üçé", description: "Flaky pastry with spiced apples, cinnamon, and vanilla glaze" },
            { id: 8, name: "Almond Croissant", price: 5.99, category: "pastries", emoji: "üå∞", description: "Croissant filled with almond cream and topped with sliced almonds" },
            
            // Bread
            { id: 9, name: "Sourdough Bread", price: 7.99, category: "bread", emoji: "üçû", description: "Traditional sourdough with perfect crust and tangy flavor, fermented for 24 hours" },
            { id: 10, name: "Whole Grain AMiROH", price: 8.50, category: "bread", emoji: "üåæ", description: "Hearty multigrain bread with seeds and ancient grains" },
            { id: 11, name: "French Baguette", price: 5.50, category: "bread", emoji: "ü•ñ", description: "Crispy crust, airy interior, authentic French technique" },
            { id: 12, name: "Cinnamon Swirl Bread", price: 9.25, category: "bread", emoji: "üçû", description: "Sweet bread with cinnamon swirl and raisins, perfect for toast" },
            
            // Drinks
            { id: 13, name: "AMiROH Coffee Blend", price: 3.99, category: "drinks", emoji: "‚òï", description: "Rich, aromatic coffee blend roasted to perfection" },
            { id: 14, name: "Premium Hot Chocolate", price: 4.99, category: "drinks", emoji: "üç´", description: "Creamy hot chocolate made with Belgian chocolate and whipped cream" },
            { id: 15, name: "Chai Spice Latte", price: 4.75, category: "drinks", emoji: "ü´ñ", description: "Warming spiced chai tea with steamed milk and honey" },
            { id: 16, name: "Fresh Orange Juice", price: 4.25, category: "drinks", emoji: "üçä", description: "Freshly squeezed orange juice, no additives" }
        ];

        // Data handler for SDK
        const dataHandler = {
            onDataChanged(data) {
                // Update reviews display
                reviews = data.filter(item => item.type === 'review');
                renderReviews();
                
                // Update users
                users = data.filter(item => item.type === 'user');
                
                // Update orders
                orders = data.filter(item => item.type === 'order');
                
                // Update account page if user is logged in
                if (currentUser) {
                    updateAccountPage();
                }
            }
        };

        // Initialize the application
        async function init() {
            // Initialize Data SDK
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error("Failed to initialize data SDK");
                }
            }

            // Initialize Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    render,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }

            // Initialize menu
            menuItems = [...menuData];
            renderMenu();
            
            // Set up event listeners
            setupEventListeners();
            
            // Update cart display
            updateCartDisplay();
            
            // Check for saved user session
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateUserInterface();
            }
        }

        // Render function for Element SDK
        async function render(config) {
            const customFont = config.font_family || defaultConfig.font_family;
            const baseSize = config.font_size || defaultConfig.font_size;
            const baseFontStack = 'Inter, sans-serif';

            // Update text content
            document.getElementById('nav-bakery-name').textContent = config.bakery_name || defaultConfig.bakery_name;
            document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
            document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
            document.getElementById('promo-text').textContent = config.promo_text || defaultConfig.promo_text;
            document.getElementById('bakery-address').textContent = config.bakery_address || defaultConfig.bakery_address;
            document.getElementById('bakery-phone').textContent = `Phone: ${config.bakery_phone || defaultConfig.bakery_phone}`;
            document.getElementById('bakery-email').textContent = `Email: ${config.bakery_email || defaultConfig.bakery_email}`;

            // Update colors
            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const accentColor = config.accent_color || defaultConfig.accent_color;
            const textColor = config.text_color || defaultConfig.text_color;

            // Apply colors to elements
            document.body.style.backgroundColor = backgroundColor;
            document.body.style.color = textColor;

            // Apply fonts
            document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
            
            // Apply font sizes proportionally
            const titleElements = document.querySelectorAll('h1');
            titleElements.forEach(el => el.style.fontSize = `${baseSize * 3}px`);
            
            const subtitleElements = document.querySelectorAll('h2');
            subtitleElements.forEach(el => el.style.fontSize = `${baseSize * 2.25}px`);
            
            const headingElements = document.querySelectorAll('h3');
            headingElements.forEach(el => el.style.fontSize = `${baseSize * 1.75}px`);
        }

        // Capabilities mapping for Element SDK
        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.primary_color || defaultConfig.primary_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ primary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_color || defaultConfig.secondary_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ secondary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.accent_color || defaultConfig.accent_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ accent_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }
            };
        }

        // Edit panel values mapping for Element SDK
        function mapToEditPanelValues(config) {
            return new Map([
                ["bakery_name", config.bakery_name || defaultConfig.bakery_name],
                ["hero_title", config.hero_title || defaultConfig.hero_title],
                ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
                ["promo_text", config.promo_text || defaultConfig.promo_text],
                ["bakery_address", config.bakery_address || defaultConfig.bakery_address],
                ["bakery_phone", config.bakery_phone || defaultConfig.bakery_phone],
                ["bakery_email", config.bakery_email || defaultConfig.bakery_email]
            ]);
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenu.classList.toggle('hidden');
            });

            // Star rating
            const stars = document.querySelectorAll('.star');
            stars.forEach(star => {
                star.addEventListener('click', (e) => {
                    currentRating = parseInt(e.target.dataset.rating);
                    document.getElementById('rating-value').value = currentRating;
                    updateStarDisplay();
                });
            });

            // Forms
            document.getElementById('newsletter-form').addEventListener('submit', handleNewsletterSubmit);
            document.getElementById('review-form').addEventListener('submit', handleReviewSubmit);
            document.getElementById('contact-form').addEventListener('submit', handleContactSubmit);
            document.getElementById('checkout-form').addEventListener('submit', handleCheckoutSubmit);
            document.getElementById('login-form').addEventListener('submit', handleLoginSubmit);
            document.getElementById('register-form').addEventListener('submit', handleRegisterSubmit);

            // Delivery type change
            document.querySelectorAll('input[name="delivery-type"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const deliverySection = document.getElementById('delivery-address-section');
                    if (e.target.value === 'delivery') {
                        deliverySection.classList.remove('hidden');
                    } else {
                        deliverySection.classList.add('hidden');
                    }
                });
            });

            // Modal click outside to close
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('show');
                    }
                });
            });
        }

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Hide mobile menu
            document.getElementById('mobile-menu').classList.add('hidden');
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Menu functions
        function renderMenu() {
            const menuGrid = document.getElementById('menu-grid');
            const filteredItems = currentFilter === 'all' ? menuItems : menuItems.filter(item => item.category === currentFilter);
            
            menuGrid.innerHTML = filteredItems.map(item => `
                <div class="product-card bg-white rounded-2xl shadow-bakery overflow-hidden">
                    <div class="h-64 bg-gradient-to-br from-yellow-100 to-orange-100 flex items-center justify-center">
                        <span class="text-8xl">${item.emoji}</span>
                    </div>
                    <div class="p-6">
                        <h3 class="text-2xl font-playfair font-semibold text-bakery-brown mb-3">${item.name}</h3>
                        <p class="text-gray-600 mb-4 text-lg">${item.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-3xl font-bold text-bakery-brown">$${item.price.toFixed(2)}</span>
                            <button onclick="addToCart('${item.name}', ${item.price}, '${item.emoji}')" class="btn-secondary text-white px-6 py-3 rounded-lg font-medium text-lg">Add to Cart</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterMenu(category) {
            currentFilter = category;
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-bakery-brown', 'text-white');
                btn.classList.add('bg-white', 'text-bakery-brown', 'border-2', 'border-bakery-brown');
            });
            
            event.target.classList.remove('bg-white', 'text-bakery-brown', 'border-2', 'border-bakery-brown');
            event.target.classList.add('active', 'bg-bakery-brown', 'text-white');
            
            renderMenu();
        }

        // Cart functions
        function addToCart(name, price, emoji) {
            const existingItem = cart.find(item => item.name === name);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ name, price, emoji, quantity: 1 });
            }
            
            updateCartDisplay();
            showToast('Item added to cart!', 'success');
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
            renderCart();
        }

        function updateQuantity(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                removeFromCart(index);
            } else {
                updateCartDisplay();
                renderCart();
            }
        }

        function updateCartDisplay() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            const cartBadge = document.getElementById('cart-badge');
            const mobileCartCount = document.getElementById('mobile-cart-count');
            
            if (cartCount > 0) {
                cartBadge.textContent = cartCount;
                cartBadge.classList.remove('hidden');
                mobileCartCount.textContent = cartCount;
            } else {
                cartBadge.classList.add('hidden');
                mobileCartCount.textContent = '0';
            }
            
            renderCart();
        }

        function renderCart() {
            const cartItems = document.getElementById('cart-items');
            const emptyCart = document.getElementById('empty-cart');
            const checkoutSection = document.getElementById('checkout-section');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '';
                emptyCart.classList.remove('hidden');
                checkoutSection.classList.add('hidden');
                return;
            }
            
            emptyCart.classList.add('hidden');
            checkoutSection.classList.remove('hidden');
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cart-total').textContent = total.toFixed(2);
            
            cartItems.innerHTML = cart.map((item, index) => `
                <div class="bg-white rounded-2xl shadow-bakery p-6 flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <span class="text-4xl">${item.emoji}</span>
                        <div>
                            <h3 class="text-xl font-semibold text-bakery-brown">${item.name}</h3>
                            <p class="text-gray-600">$${item.price.toFixed(2)} each</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-6">
                        <div class="flex items-center space-x-3">
                            <button onclick="updateQuantity(${index}, -1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold text-lg">-</button>
                            <span class="font-bold text-xl w-8 text-center">${item.quantity}</span>
                            <button onclick="updateQuantity(${index}, 1)" class="bg-gray-200 text-gray-700 w-10 h-10 rounded-full hover:bg-gray-300 font-bold text-lg">+</button>
                        </div>
                        <span class="font-bold text-bakery-brown text-xl">$${(item.price * item.quantity).toFixed(2)}</span>
                        <button onclick="removeFromCart(${index})" class="text-red-500 hover:text-red-700 text-2xl">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        // Review functions
        function updateStarDisplay() {
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                if (index < currentRating) {
                    star.classList.remove('text-gray-300');
                    star.classList.add('star-rating');
                } else {
                    star.classList.remove('star-rating');
                    star.classList.add('text-gray-300');
                }
            });
        }

        function renderReviews() {
            const reviewsContainer = document.getElementById('reviews-container');
            
            if (reviews.length === 0) {
                reviewsContainer.innerHTML = `
                    <div class="col-span-full text-center py-20">
                        <div class="text-8xl mb-6">‚≠ê</div>
                        <h2 class="text-3xl font-playfair text-gray-600 mb-4">No reviews yet</h2>
                        <p class="text-xl text-gray-500">Be the first to share your experience!</p>
                    </div>
                `;
                return;
            }
            
            reviewsContainer.innerHTML = reviews.map(review => `
                <div class="bg-white rounded-2xl shadow-bakery p-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold text-bakery-brown">${review.name}</h3>
                        <div class="flex">
                            ${Array.from({length: 5}, (_, i) => 
                                `<span class="${i < review.rating ? 'star-rating' : 'text-gray-300'} text-2xl">‚òÖ</span>`
                            ).join('')}
                        </div>
                    </div>
                    <p class="text-gray-600 mb-6 text-lg leading-relaxed">${review.comment}</p>
                    <p class="text-sm text-gray-400">${new Date(review.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</p>
                </div>
            `).join('');
        }

        // Authentication functions
        function showModal(modalId) {
            const modal = document.getElementById(`${modalId}-modal`);
            modal.classList.add('show');
        }

        function hideModal(modalId) {
            const modal = document.getElementById(`${modalId}-modal`);
            modal.classList.remove('show');
        }

        function switchModal(fromModal, toModal) {
            hideModal(fromModal);
            setTimeout(() => showModal(toModal), 300);
        }

        function updateUserInterface() {
            const userMenu = document.getElementById('user-menu');
            const authButtons = document.getElementById('auth-buttons');
            const userName = document.getElementById('user-name');
            
            if (currentUser) {
                userMenu.classList.remove('hidden');
                authButtons.classList.add('hidden');
                userName.textContent = `Welcome, ${currentUser.name}!`;
            } else {
                userMenu.classList.add('hidden');
                authButtons.classList.remove('hidden');
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserInterface();
            showToast('Logged out successfully', 'success');
            showPage('home');
        }

        function updateAccountPage() {
            if (!currentUser) return;
            
            const profileInfo = document.getElementById('profile-info');
            const orderHistory = document.getElementById('order-history');
            
            // Update profile info
            profileInfo.innerHTML = `
                <div class="space-y-3">
                    <div class="flex justify-between py-2 border-b border-gray-100">
                        <span class="font-medium text-gray-700">Name:</span>
                        <span class="text-bakery-brown">${currentUser.name}</span>
                    </div>
                    <div class="flex justify-between py-2 border-b border-gray-100">
                        <span class="font-medium text-gray-700">Email:</span>
                        <span class="text-bakery-brown">${currentUser.email}</span>
                    </div>
                    <div class="flex justify-between py-2">
                        <span class="font-medium text-gray-700">Member Since:</span>
                        <span class="text-bakery-brown">${new Date(currentUser.date).toLocaleDateString()}</span>
                    </div>
                </div>
            `;
            
            // Update order history
            const userOrders = orders.filter(order => order.customer_email === currentUser.email);
            
            if (userOrders.length === 0) {
                orderHistory.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-4xl mb-3">üì¶</div>
                        <p class="text-gray-600">No orders yet</p>
                    </div>
                `;
            } else {
                orderHistory.innerHTML = userOrders.map(order => `
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="flex justify-between items-start mb-2">
                            <span class="font-medium text-bakery-brown">Order #${order.id.slice(-6)}</span>
                            <span class="text-sm text-gray-500">${new Date(order.date).toLocaleDateString()}</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">${JSON.parse(order.order_items).length} items</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-bakery-brown">$${order.order_total.toFixed(2)}</span>
                            <span class="text-sm px-2 py-1 bg-green-100 text-green-800 rounded">${order.order_status || 'Processing'}</span>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Form handlers
        async function handleNewsletterSubmit(e) {
            e.preventDefault();
            const email = document.getElementById('newsletter-email').value;
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    id: Date.now().toString(),
                    type: 'newsletter',
                    newsletter_email: email,
                    date: new Date().toISOString()
                });
                
                if (result.isOk) {
                    showToast('Thank you for subscribing!', 'success');
                    document.getElementById('newsletter-form').reset();
                } else {
                    showToast('Subscription failed. Please try again.', 'error');
                }
            }
        }

        async function handleReviewSubmit(e) {
            e.preventDefault();
            
            if (currentRating === 0) {
                showToast('Please select a rating', 'error');
                return;
            }
            
            const name = document.getElementById('review-name').value;
            const email = document.getElementById('review-email').value;
            const comment = document.getElementById('review-comment').value;
            
            // Show loading state
            const submitBtn = document.getElementById('review-btn-text');
            const spinner = document.getElementById('review-spinner');
            submitBtn.classList.add('hidden');
            spinner.classList.remove('hidden');
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    id: Date.now().toString(),
                    type: 'review',
                    name: name,
                    email: email,
                    rating: currentRating,
                    comment: comment,
                    date: new Date().toISOString()
                });
                
                // Hide loading state
                submitBtn.classList.remove('hidden');
                spinner.classList.add('hidden');
                
                if (result.isOk) {
                    showToast('Thank you for your review!', 'success');
                    document.getElementById('review-form').reset();
                    currentRating = 0;
                    updateStarDisplay();
                } else {
                    showToast('Review submission failed. Please try again.', 'error');
                }
            }
        }

        async function handleContactSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('contact-name').value;
            const email = document.getElementById('contact-email').value;
            const message = document.getElementById('contact-message').value;
            
            // Show loading state
            const submitBtn = document.getElementById('contact-btn-text');
            const spinner = document.getElementById('contact-spinner');
            submitBtn.classList.add('hidden');
            spinner.classList.remove('hidden');
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    id: Date.now().toString(),
                    type: 'contact',
                    contact_name: name,
                    contact_email: email,
                    contact_message: message,
                    date: new Date().toISOString()
                });
                
                // Hide loading state
                submitBtn.classList.remove('hidden');
                spinner.classList.add('hidden');
                
                if (result.isOk) {
                    showToast('Message sent successfully!', 'success');
                    document.getElementById('contact-form').reset();
                } else {
                    showToast('Message failed to send. Please try again.', 'error');
                }
            }
        }

        async function handleCheckoutSubmit(e) {
            e.preventDefault();
            
            if (cart.length === 0) {
                showToast('Your cart is empty', 'error');
                return;
            }
            
            const customerName = document.getElementById('customer-name').value;
            const customerPhone = document.getElementById('customer-phone').value;
            const customerEmail = document.getElementById('customer-email').value;
            const deliveryType = document.querySelector('input[name="delivery-type"]:checked').value;
            const deliveryAddress = document.getElementById('delivery-address').value;
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Show loading state
            const submitBtn = document.getElementById('checkout-btn-text');
            const spinner = document.getElementById('checkout-spinner');
            submitBtn.classList.add('hidden');
            spinner.classList.remove('hidden');
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    id: Date.now().toString(),
                    type: 'order',
                    order_items: JSON.stringify(cart),
                    order_total: total,
                    customer_name: customerName,
                    customer_phone: customerPhone,
                    customer_email: customerEmail,
                    delivery_type: deliveryType,
                    delivery_address: deliveryAddress,
                    order_status: 'Processing',
                    date: new Date().toISOString()
                });
                
                // Hide loading state
                submitBtn.classList.remove('hidden');
                spinner.classList.add('hidden');
                
                if (result.isOk) {
                    showToast('Order placed successfully!', 'success');
                    cart = [];
                    updateCartDisplay();
                    document.getElementById('checkout-form').reset();
                    showPage('home');
                } else {
                    showToast('Order failed. Please try again.', 'error');
                }
            }
        }

        async function handleLoginSubmit(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // For demo purposes, any email/password combination works
            // In a real app, you would validate against stored user data
            const user = users.find(u => u.email === email);
            
            if (user || email && password) {
                currentUser = user || { name: email.split('@')[0], email: email, date: new Date().toISOString() };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateUserInterface();
                hideModal('login');
                showToast('Welcome back!', 'success');
            } else {
                showToast('Invalid credentials', 'error');
            }
        }

        async function handleRegisterSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            
            if (window.dataSdk) {
                const result = await window.dataSdk.create({
                    id: Date.now().toString(),
                    type: 'user',
                    name: name,
                    email: email,
                    password: password, // In a real app, this would be hashed
                    date: new Date().toISOString()
                });
                
                if (result.isOk) {
                    currentUser = { name, email, date: new Date().toISOString() };
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateUserInterface();
                    hideModal('register');
                    showToast('Account created successfully!', 'success');
                } else {
                    showToast('Registration failed. Please try again.', 'error');
                }
            }
        }

        // Utility functions
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            const toastIcon = document.getElementById('toast-icon');
            
            toastMessage.textContent = message;
            
            if (type === 'error') {
                toast.className = 'toast bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg';
                toastIcon.textContent = '‚úó';
            } else {
                toast.className = 'toast bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg';
                toastIcon.textContent = '‚úì';
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function closePromoBanner() {
            document.getElementById('promo-banner').style.display = 'none';
        }

        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9908cd11913a6023',t:'MTc2MDc5ODUzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>