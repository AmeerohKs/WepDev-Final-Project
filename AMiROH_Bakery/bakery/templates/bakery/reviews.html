{% extends "bakery/base.html" %}
{% block title %}Customer Reviews - AMiROH Bakery{% endblock %}
{% block content %}
<section class="max-w-5xl mx-auto py-16">
    <h2 class="text-4xl font-bold mb-8 text-center text-brown-700">Customer Reviews</h2>

    <!-- ฟอร์มเพิ่มรีวิว -->
    <form id="review-form" class="bg-white p-6 rounded-2xl shadow-md mb-10">
        {% csrf_token %}
        <input type="text" id="review-name" name="name" placeholder="Your Name" class="border p-2 w-full mb-3 rounded">
        <input type="email" id="review-email" name="email" placeholder="Your Email (optional)" class="border p-2 w-full mb-3 rounded">
        <select id="review-rating" name="rating" class="border p-2 w-full mb-3 rounded">
            <option value="">Rating</option>
            <option value="5">⭐⭐⭐⭐⭐</option>
            <option value="4">⭐⭐⭐⭐</option>
            <option value="3">⭐⭐⭐</option>
            <option value="2">⭐⭐</option>
            <option value="1">⭐</option>
        </select>
        <textarea id="review-comment" name="comment" placeholder="Write your review..." class="border p-2 w-full mb-3 rounded"></textarea>
        <button type="submit" class="bg-brown-700 text-white px-5 py-3 rounded-lg hover:bg-brown-800">Submit Review</button>
    </form>

    <!-- รีวิวจาก DB -->
    <div class="space-y-6">
        {% for r in reviews %}
        <div class="bg-white p-6 rounded-2xl shadow">
            <div class="flex justify-between items-center mb-2">
                <h4 class="font-semibold text-brown-700">{{ r.name }}</h4>
                <span>{{ r.rating }}⭐</span>
            </div>
            <p>{{ r.comment }}</p>
            <small class="text-gray-500">{{ r.date|date:"M d, Y" }}</small>
        </div>
        {% empty %}
        <p class="text-center text-gray-500">No reviews yet.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
